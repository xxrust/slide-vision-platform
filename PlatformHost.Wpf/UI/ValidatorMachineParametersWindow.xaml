<Window x:Class="WpfApp2.UI.ValidatorMachineParametersWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="éªŒæœºå›¾ç‰‡é›†å‚æ•°"
        Height="450"
        Width="600"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        WindowStyle="SingleBorderWindow">

    <Window.Resources>
        <!-- æŒ‰é’®æ ·å¼ -->
        <Style x:Key="ModernButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#FF4472C4"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="4"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                BorderBrush="{TemplateBinding BorderBrush}">
                            <ContentPresenter HorizontalAlignment="Center"
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FF5B85D6"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#FF365F9C"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- å–æ¶ˆæŒ‰é’®æ ·å¼ -->
        <Style x:Key="CancelButtonStyle" TargetType="Button" BasedOn="{StaticResource ModernButtonStyle}">
            <Setter Property="Background" Value="#FF6C757D"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#FF7A868E"/>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="#FF5A6268"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- ListBoxæ ·å¼ -->
        <Style x:Key="FolderListBoxStyle" TargetType="ListBox">
            <Setter Property="BorderBrush" Value="#FFCCCCCC"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Background" Value="White"/>
        </Style>
    </Window.Resources>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- æ ‡é¢˜ -->
        <TextBlock Grid.Row="0"
                   x:Name="TitleTextBlock"
                   Text="éªŒæœºå›¾ç‰‡é›†åˆ¶ä½œå‚æ•°è®¾ç½®"
                   FontSize="16"
                   FontWeight="Bold"
                   Margin="0,0,0,15"
                   Foreground="#FF2E3440"/>

        <!-- åˆ¶ä½œæ¨¡å¼ï¼šæ–‡ä»¶å¤¹é€‰æ‹©å’Œå·¡å›žå‘¨æœŸ -->
        <StackPanel Grid.Row="1" x:Name="CollectionModePanel">
            <!-- æ–‡ä»¶å¤¹é€‰æ‹© -->
            <Grid Margin="0,0,0,15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0"
                           Text="æ–‡ä»¶å¤¹åœ°å€:"
                           VerticalAlignment="Center"
                           Foreground="#FF333333"
                           Margin="0,0,10,0"/>

                <TextBox x:Name="FolderPathTextBox"
                         Grid.Column="1"
                         Height="28"
                         Padding="8,6"
                         IsReadOnly="True"
                         VerticalAlignment="Center"
                         BorderBrush="#FFCCCCCC"
                         BorderThickness="1"
                         Background="#FFF5F5F5"/>

                <Button Grid.Column="2"
                        Content="æµè§ˆ..."
                        Width="80"
                        Height="28"
                        Margin="10,0,0,0"
                        Style="{StaticResource ModernButtonStyle}"
                        Click="BrowseButton_Click"/>
            </Grid>

            <!-- æ ·å“æ•°ç›® -->
            <Grid Margin="0,0,0,15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="80"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0"
                           Text="æ ·å“æ•°ç›® (1-12):"
                           VerticalAlignment="Center"
                           Foreground="#FF333333"
                           Margin="0,0,10,0"/>

                <TextBox x:Name="SampleCountInputTextBox"
                         Grid.Column="1"
                         Height="28"
                         Padding="8,6"
                         TextAlignment="Center"
                         VerticalAlignment="Center"
                         BorderBrush="#FFCCCCCC"
                         BorderThickness="1"
                         Text="6"
                         FontSize="12"/>

                <TextBlock Grid.Column="2"
                           Text="ï¼ˆå·¡å›žæ¬¡æ•°å°†è‡ªåŠ¨è®¡ç®—ï¼‰"
                           VerticalAlignment="Center"
                           Foreground="#FF6C757D"
                           Margin="10,0,0,0"
                           FontSize="12"/>
            </Grid>
        </StackPanel>

        <!-- æ£€æµ‹æ¨¡å¼ï¼šéªŒæœºå›¾ç‰‡é›†åˆ—è¡¨é€‰æ‹© -->
        <StackPanel Grid.Row="1" x:Name="DetectionModePanel" Visibility="Collapsed">
            <TextBlock Text="é€‰æ‹©éªŒæœºå›¾ç‰‡é›†:"
                       FontWeight="Bold"
                       Margin="0,0,0,10"
                       Foreground="#FF333333"/>
        </StackPanel>

        <!-- éªŒæœºå›¾ç‰‡é›†åˆ—è¡¨ï¼ˆæ£€æµ‹æ¨¡å¼ï¼‰ -->
        <ListBox Grid.Row="2"
                 x:Name="ValidatorFolderListBox"
                 Style="{StaticResource FolderListBoxStyle}"
                 Visibility="Collapsed"
                 SelectionChanged="ValidatorFolderListBox_SelectionChanged"
                 Margin="0,0,0,15">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal" Margin="5">
                        <TextBlock Text="ðŸ“" FontSize="14" Margin="0,0,8,0" VerticalAlignment="Center"/>
                        <StackPanel>
                            <TextBlock Text="{Binding FolderName}" FontWeight="Bold" FontSize="13"/>
                            <TextBlock Text="{Binding Description}" FontSize="11" Foreground="#FF666666"/>
                        </StackPanel>
                    </StackPanel>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>

        <!-- è¯´æ˜Žä¿¡æ¯ï¼ˆåˆ¶ä½œæ¨¡å¼ï¼‰ -->
        <GroupBox Grid.Row="2" x:Name="CollectionHelpPanel" Header="ä½¿ç”¨è¯´æ˜Ž" Margin="0,0,0,15" Padding="10">
            <StackPanel>
                <TextBlock
                           FontSize="11"
                           Foreground="#FF666666"
                           Margin="0,0,0,5"><Run Text="1. é€‰æ‹©"/><Run Language="zh-cn" Text="ä¸€ä¸ªLOTå·æ–‡ä»¶å¤¹ï¼Œä¸è¦é€‰æ‹©æŸç§å…·ä½“çš„NGç±»åž‹"/></TextBlock>
                <TextBlock x:Name="ImageSourceHintTextBlock"
                           Text="2. ç³»ç»Ÿä¼šé€’å½’æœç´¢å­æ–‡ä»¶å¤¹ä¸­çš„å›¾åƒæºæ–‡ä»¶å¤¹"
                           FontSize="11"
                           Foreground="#FF666666"
                           Margin="0,0,0,5"/>
                <TextBlock Text="3. è®¾ç½®æ ·å“æ•°ç›®ï¼Œç³»ç»Ÿè‡ªåŠ¨è®¡ç®—å·¡å›žæ¬¡æ•°ï¼ˆå¦‚60å¼ å›¾/6æ ·å“=10æ¬¡ï¼‰"
                           FontSize="11"
                           Foreground="#FF666666"
                           Margin="0,0,0,5"/>
                <TextBlock Text="4. è‡ªåŠ¨åˆ›å»ºç›®å½•ï¼šéªŒæœºå›¾ç‰‡é›†/{LOTå·}/å›¾å·n/ å¹¶å¤åˆ¶å¯¹åº”çš„å›¾ç‰‡"
                           FontSize="11"
                           Foreground="#FF666666"/>
            </StackPanel>
        </GroupBox>

        <!-- é€‰ä¸­çš„éªŒæœºå›¾ç‰‡é›†ä¿¡æ¯ï¼ˆæ£€æµ‹æ¨¡å¼ï¼‰ -->
        <Border Grid.Row="3" x:Name="SelectedFolderInfoPanel"
                Background="#FFF5F5F5"
                CornerRadius="4"
                Padding="10"
                Margin="0,0,0,15"
                Visibility="Collapsed">
            <StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                    <TextBlock Text="æ ·å“æ•°é‡:" FontWeight="Bold" Margin="0,0,8,0"/>
                    <TextBlock x:Name="SampleCountTextBlock" Text="--"/>
                    <TextBlock Text="å·¡å›žæ¬¡æ•°:" FontWeight="Bold" Margin="20,0,8,0"/>
                    <TextBlock x:Name="LoopCycleInfoTextBlock" Text="--"/>
                </StackPanel>
                <TextBlock x:Name="FolderPathInfoTextBlock"
                           Text=""
                           FontSize="11"
                           Foreground="#FF666666"
                           TextWrapping="Wrap"/>
            </StackPanel>
        </Border>

        <!-- æŒ‰é’®åŒºåŸŸ -->
        <StackPanel Grid.Row="4"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right">

            <Button Content="ç¡®å®š"
                    Width="80"
                    Height="35"
                    Style="{StaticResource ModernButtonStyle}"
                    Click="ConfirmButton_Click"
                    Margin="0,0,10,0"/>

            <Button Content="å–æ¶ˆ"
                    Width="80"
                    Height="35"
                    Style="{StaticResource CancelButtonStyle}"
                    Click="CancelButton_Click"/>
        </StackPanel>
    </Grid>
</Window>
