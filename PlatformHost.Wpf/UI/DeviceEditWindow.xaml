<Window x:Class="WpfApp2.UI.DeviceEditWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="设备配置" Height="560" Width="520"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#FF2C3E50">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Background="#FF34495E" CornerRadius="8" Padding="12" Margin="0,0,0,12">
            <TextBlock x:Name="HeaderText" Text="设备配置" FontSize="18" FontWeight="Bold" Foreground="#FF3498DB"/>
        </Border>

        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <Grid Margin="0,0,0,12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="120"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="设备名称" Foreground="White" VerticalAlignment="Center"/>
                    <TextBox Grid.Column="1" x:Name="NameTextBox" Height="28"/>
                </Grid>

                <Grid Margin="0,0,0,12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="120"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="协议类型" Foreground="White" VerticalAlignment="Center"/>
                    <ComboBox Grid.Column="1" x:Name="ProtocolComboBox" Height="28" SelectionChanged="ProtocolComboBox_SelectionChanged">
                        <ComboBoxItem Content="Serial" Tag="Serial"/>
                        <ComboBoxItem Content="TCP/IP" Tag="TcpIp"/>
                    </ComboBox>
                </Grid>

                <GroupBox x:Name="SerialGroup" Header="串口参数" Foreground="White" Margin="0,0,0,12">
                    <Grid Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="串口号" Foreground="White" VerticalAlignment="Center"/>
                        <TextBox Grid.Row="0" Grid.Column="1" x:Name="SerialPortTextBox" Height="26"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" Text="波特率" Foreground="White" VerticalAlignment="Center"/>
                        <TextBox Grid.Row="1" Grid.Column="1" x:Name="BaudRateTextBox" Height="26"/>

                        <TextBlock Grid.Row="2" Grid.Column="0" Text="数据位" Foreground="White" VerticalAlignment="Center"/>
                        <TextBox Grid.Row="2" Grid.Column="1" x:Name="DataBitsTextBox" Height="26"/>

                        <TextBlock Grid.Row="3" Grid.Column="0" Text="停止位" Foreground="White" VerticalAlignment="Center"/>
                        <ComboBox Grid.Row="3" Grid.Column="1" x:Name="StopBitsComboBox" Height="26">
                            <ComboBoxItem Content="One" Tag="One"/>
                            <ComboBoxItem Content="OnePointFive" Tag="OnePointFive"/>
                            <ComboBoxItem Content="Two" Tag="Two"/>
                        </ComboBox>

                        <TextBlock Grid.Row="4" Grid.Column="0" Text="校验位" Foreground="White" VerticalAlignment="Center"/>
                        <ComboBox Grid.Row="4" Grid.Column="1" x:Name="ParityComboBox" Height="26">
                            <ComboBoxItem Content="Even" Tag="Even"/>
                            <ComboBoxItem Content="Odd" Tag="Odd"/>
                            <ComboBoxItem Content="None" Tag="None"/>
                        </ComboBox>

                        <TextBlock Grid.Row="5" Grid.Column="0" Text="读写超时(ms)" Foreground="White" VerticalAlignment="Center"/>
                        <StackPanel Grid.Row="5" Grid.Column="1" Orientation="Horizontal">
                            <TextBox x:Name="ReadTimeoutTextBox" Width="80" Height="26" Margin="0,0,8,0"/>
                            <TextBox x:Name="WriteTimeoutTextBox" Width="80" Height="26"/>
                        </StackPanel>
                    </Grid>
                </GroupBox>

                <GroupBox x:Name="TcpGroup" Header="TCP参数" Foreground="White" Margin="0,0,0,12">
                    <Grid Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="目标IP" Foreground="White" VerticalAlignment="Center"/>
                        <TextBox Grid.Row="0" Grid.Column="1" x:Name="TcpHostTextBox" Height="26"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" Text="端口" Foreground="White" VerticalAlignment="Center"/>
                        <TextBox Grid.Row="1" Grid.Column="1" x:Name="TcpPortTextBox" Height="26"/>
                    </Grid>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>

        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,12,0,0">
            <Button x:Name="SaveButton" Content="保存" Width="90" Height="30" Margin="0,0,10,0"
                    Background="#FF27AE60" Foreground="White" FontWeight="Bold" Click="SaveButton_Click"/>
            <Button x:Name="CancelButton" Content="取消" Width="90" Height="30"
                    Background="#FF95A5A6" Foreground="White" FontWeight="Bold" Click="CancelButton_Click"/>
        </StackPanel>
    </Grid>
</Window>
