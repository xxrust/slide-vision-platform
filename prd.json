{
  "title": "OPT相机配置与标准设定项",
  "goal": "在硬件配置页补齐OPT相机配置能力，支持设备发现、序列号绑定、标准参数下发与持久化，作为平台默认相机配置流程。",
  "scope": [
    "接入OPT相机SDK并封装设备发现、打开/关闭、参数下发的服务层",
    "在相机配置控件中新增设备列表、绑定按钮与状态提示",
    "新增标准设定项：像素格式、帧率、触发模式/触发源/触发延时，配合曝光与增益",
    "保存相机配置至GenericCameraProfiles.json，并支持按序列号匹配下发",
    "应用配置时仅对OPT相机执行下发，非OPT设备保持仅保存配置"
  ],
  "non_goals": [
    "实现实时取流/图像显示或保存",
    "完整的相机参数树管理与高级GenICam特性",
    "替换现有光源控制或检测流程",
    "自动在分页/切换时下发参数"
  ],
  "principles": [
    "最小侵入：与既有通用相机配置兼容",
    "安全可回退：设备不可用时仅保存配置",
    "标准化：新增参数统一进入通用相机配置模型",
    "可扩展：SDK访问封装在独立服务中"
  ],
  "decoupling_scope": [
    "硬件SDK调用封装在Hardware/OptCameraService中",
    "UI仅通过通用配置模型与服务交互",
    "相机配置与算法执行解耦"
  ],
  "reusable_assets": [
    "SciCamera.Net SDK",
    "GenericCameraProfiles.json持久化机制",
    "GenericCameraConfigControl通用配置UI"
  ],
  "pages": [
    {
      "id": "HardwareConfigPage",
      "purpose": "集中管理相机与IO硬件配置",
      "ui": [
        "相机卡片列表",
        "设备刷新/绑定",
        "标准参数设置与应用"
      ]
    }
  ],
  "data_persistence": [
    {
      "item": "Config/GenericCameraProfiles.json",
      "contents": [
        "Vendor/Model/SerialNumber",
        "ExposureTimeUs/Gain",
        "PixelFormat/FrameRate",
        "TriggerEnabled/TriggerSource/TriggerDelayUs"
      ]
    }
  ],
  "acceptance": [
    "硬件配置页可刷新OPT相机列表并绑定序列号",
    "应用配置时可对OPT相机下发像素格式、曝光、增益、触发参数",
    "配置保存后重新进入页面能正确回显",
    "未连接设备时不阻塞保存并给出提示",
    "非OPT设备不执行SDK下发"
  ],
  "milestones": [
    "M1: SDK封装与设备发现可用",
    "M2: UI标准设定项补齐并可保存",
    "M3: 参数下发联调与错误提示"
  ],
  "key_paths": {
    "platform_root": "E:\\posen_project\\自建算法平台\\Platform",
    "opt_sdk_samples": "D:\\Vision\\OPT Camera Viewer_v4.0.0.0\\SDK\\Development\\Windows\\Samples\\C#",
    "opt_service": "PlatformHost.Wpf\\Hardware\\OptCameraService.cs",
    "camera_models": "PlatformHost.Wpf\\Hardware\\GenericCameraModels.cs",
    "camera_ui": "PlatformHost.Wpf\\UI\\Controls\\GenericCameraConfigControl.xaml"
  }
}
